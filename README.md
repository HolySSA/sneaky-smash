# SNEAKY SMASH

## ğŸˆ íŒ€ ë…¸ì…˜

- [í”„ë¡œì íŠ¸ ë¸Œë¡œì…”](https://pollen-violin-7c8.notion.site/SNEAKY-SMASH-164ca0528acf8072a337cc4abd620ab6)
- [í”„ë¡œì íŠ¸ ë…¸ì…˜](https://teamsparta.notion.site/8-b5a0145e1e434ae6b45ca653cdfa04d2)

## ğŸ‘‹ í”„ë¡œì íŠ¸ ì†Œê°œ

- ê²Œì„ëª…: SNEAKY SMASH
- í”„ë¡œì íŠ¸ ê¸°ê°„: 2024.11.13(ìˆ˜) ~ 2024.12.22(ì¼)
- ê²Œì„ ì¥ë¥´: ë°°í‹€ë¡œì–„ / RPG
- í”„ë¡œì íŠ¸ ì†Œê°œ: **SNEAKY SMASH**ëŠ” ë˜ì „ íˆ¬ê¸°ì¥ì— ì…ì¥í•´ ëª¬ìŠ¤í„°ë¥¼ ì‚¬ëƒ¥í•˜ë©° ì„±ì¥í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ë„¥ì„œìŠ¤ë¥¼ íŒŒê´´í•˜ë©´ ìŠ¹ë¦¬í•˜ëŠ” ê²Œì„ì…ë‹ˆë‹¤.

## âš™ï¸ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

![ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜](https://github.com/user-attachments/assets/1cf53135-a523-4f57-8f92-5a67a8c22240)

## ğŸ› ï¸ ê¸°ìˆ  êµ¬í˜„

<span style="font-size: 18px; font-weight: bold"> Programming Languages</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/JavaScript-yellow?style=for-the-badge&logo=javascript&logoColor=white" alt="JavaScript Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/C%23-239120?style=for-the-badge&logo=csharp&logoColor=white" alt="C# Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> Socket Programming</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/TCP-00599C?style=for-the-badge&logo=protocol&logoColor=white" alt="TCP Badge" style="display: inline-block; margin-right: 5px; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/Protobuf-336791?style=for-the-badge&logo=google&logoColor=white" alt="Protobuf Badge" style="display: inline-block; margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> Game Server & Login Server</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=node.js&logoColor=white" alt="Node.js Badge" style="display: inline-block; margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> Pathfinding Server</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/C%23-239120?style=for-the-badge&logo=csharp&logoColor=white" alt="C# Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> Client</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/Unity-000000?style=for-the-badge&logo=unity&logoColor=white" alt="Unity Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> DB</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white" alt="MySQL Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white" alt="Redis Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> DevOps</span
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/Docker%20Compose-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker Compose Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/Traefik-000000?style=for-the-badge&logo=traefik&logoColor=white" alt="Traefik Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/VPS-FF6600?style=for-the-badge&logo=linux&logoColor=white" alt="VPS Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

<span style="font-size: 18px; font-weight: bold"> VCS</span>
<p align="left" style="margin: 0; padding: 0; line-height: 0;">
  <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white" alt="GitHub Badge" style="margin: 0; padding: 0; line-height: 0;"/>
  <img src="https://img.shields.io/badge/Unity%20Version%20Control-000000?style=for-the-badge&logo=unity&logoColor=white" alt="Unity Version Control Badge" style="margin: 0; padding: 0; line-height: 0;"/>
</p>

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥ ë° êµ¬ì„± ìš”ì†Œ

### **VPS (Virtual Private Server)**

ê³ ê°€ìš©ì„± ì„œë²„ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ VPSë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- **Minimum Server**: í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ì„¤ì¹˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì„œë¹„ìŠ¤ ë™ì‘ ë°©ì§€.
- **í™•ì¥ì„± ê³ ë ¤**: ê°€ìƒ ë…¸ë“œ ê°„ í†µì‹ ì„ í—ˆìš©í•˜ì—¬ ì„œë¹„ìŠ¤ ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥.
- **ìœ„í—˜ ê´€ë¦¬**: Fail-Over ë³µêµ¬ë¥¼ ìœ„í•´ ìŠ¤ëƒ…ìƒ· ì €ì¥.
- **ë³´ì•ˆì„±**: ì™¸ë¶€ë¡œë¶€í„° ìˆ¨ê²¨ì§„ ë…¸ë“œë¥¼ í†µí•´ ë³´ì•ˆì„± ê°•í™”.

### **Traefik**

í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì ì ˆí•œ ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ…í•˜ëŠ” API-Gatewayë¡œ í™œìš©í–ˆìŠµë‹ˆë‹¤.

- **ë¦¬ë‹¤ì´ë ‰íŒ…**: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì í•©í•œ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ….
- **ì—°ê²° ì§€ì›**: SNI(Server Name Indication) ê¸°ë°˜ ì„œë¹„ìŠ¤ ì—°ê²° ë° ê´€ë¦¬.

### **Login Server**

ë¡œê·¸ì¸ ë° ìœ ì € ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ë©°, ê²Œì„ ì„œë²„ ìƒíƒœë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.

- **ìœ ì € ê´€ë¦¬**: ë¡œê·¸ì¸/íšŒì› ê°€ì…ìœ¼ë¡œ ë“±ë¡ëœ ìœ ì € ì¸ì¦.
- **ê²Œì„ ì„œë²„ ì•ˆë‚´**: Redisë¥¼ í™œìš©í•´ ì„œë²„ ìƒíƒœë¥¼ í™•ì¸ ë° ê°±ì‹ .

### **Game Server**

ì¸ê°€ëœ ìœ ì €ë§Œ ì ‘ì† ê°€ëŠ¥í•œ ì‹¤ì œ ê²Œì„ ì„œë¹„ìŠ¤ ì„œë²„ì…ë‹ˆë‹¤.

- **ì´ë™ ë™ê¸°í™”**: ë§ˆì„ ë° ë˜ì „ì— ë”°ë¼ ì´ë™ ìƒíƒœë¥¼ ë™ê¸°í™”.
- **ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”**: ìºë¦­í„°ì˜ ëª¨ì…˜ ë° ê°ì • í‘œí˜„ ë™ê¸°í™”.
- **ìµœëŒ€ ì¸ì› ê´€ë¦¬**: ì„œë²„ ë¶€í•˜ ë°©ì§€ ë° ìœ ì € ê²½í—˜ ìµœì í™”.
- **ê²Œì„ ë¡œì§**: ëª¬ìŠ¤í„°, ë„¥ì„œìŠ¤, PVP ë“± ê²Œì„ ë¡œì§ ì²˜ë¦¬.
- **ìƒíƒœ ë™ê¸°í™”**: ìºë¦­í„°, ëª¬ìŠ¤í„°, ë„¥ì„œìŠ¤ ë“± ë‹¤ì–‘í•œ ê°œì²´ì— ëŒ€í•œ ìƒíƒœë¥¼ ë™ê¸°í™”.
- **ì±„íŒ… ê´€ë¦¬**: Redisë¥¼ í†µí•´ ë§ˆì„ ë° ë˜ì „ ì±„íŒ… ì§€ì›. (ë§ˆì„ì—ì„œëŠ” ì„œë²„ê°€ ë‹¬ë¼ë„ Redisë¥¼ í†µí•´ ì±„íŒ… ê³µìœ . ë˜ì „ì˜ ê²½ìš°, í•´ë‹¹ ë˜ì „ ë‚´ì—ì„œë§Œ ì±„íŒ… ê³µìœ )

### **Pathfinding Server**

ëª¬ìŠ¤í„° ê¸¸ ì°¾ê¸°ë¥¼ ë‹´ë‹¹í•˜ëŠ” ë…ë¦½ ì„œë²„ì…ë‹ˆë‹¤.

- **ë…ë¦½ì„±**: ê° ëª¬ìŠ¤í„° ê°„ ê¸¸ ì°¾ê¸° ìš”ì²­ì„ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬.
- **íš¨ìœ¨ì ì¸ ì—°ì‚°**: ê²½ëŸ‰í™”ëœ ë°ì´í„°ì™€ Unity ì—°ì‚° ìµœì í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©.
- **ê²Œì„ ì„œë²„ ë¶€í•˜ ê°ì†Œ**: ê²Œì„ ì„œë²„ì™€ ì—°ì‚° ë¶„ë¦¬.

### **Message Queue**

í´ë¼ì´ì–¸íŠ¸ ë° ì„œë²„ ê°„ ìˆœì°¨ì  ì²˜ë¦¬ë¥¼ ìœ„í•œ ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

- **í´ë¼ì´ì–¸íŠ¸**: ì†¡ìˆ˜ì‹  ìˆœì„œë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•œ í ë™ì‘.
- **ì„œë²„**: í´ë¼ì´ì–¸íŠ¸ë³„ ë…ë¦½ì ì¸ ë©”ì‹œì§€ í ì œê³µ.

### **MySQL / Redis**

ë°ì´í„° ì˜ì†ì„±ê³¼ ìºì‹± ì „ëµì„ ìœ„í•´ MySQLê³¼ Redisë¥¼ í•¨ê»˜ í™œìš©í–ˆìŠµë‹ˆë‹¤.

- **MySQL**: ë°ì´í„° ì˜ì†ì„±ê³¼ ë³µì¡í•œ ì¿¼ë¦¬ ì²˜ë¦¬.
- **Redis**: ìì£¼ í˜¸ì¶œë˜ëŠ” ë°ì´í„°ì— ëŒ€í•œ ìºì‹± ì „ëµ ë° ì„œë²„ ê°„ ìƒíƒœ/ë©”ì„¸ì§€ ê³µìœ .

### **Docker**

ì„œë²„ ë°°í¬ ë° ê´€ë¦¬ ìë™í™”ë¥¼ ìœ„í•´ Dockerë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤.

- **ë°°í¬ ìš©ì´**: Docker-Composeë¥¼ í†µí•´ ì„œë²„ ìƒì„± ë° ê´€ë¦¬.
- **Fail-Over ê´€ë¦¬**: ì„œë¹„ìŠ¤ ì¬ì‹œì‘ ë° ë…ë¦½ì  ì‹¤í–‰ í™˜ê²½ ì œê³µ.
- **Traefik í˜¸í™˜ì„±**: ë³µì¡ë„ë¥¼ ë‚®ì¶˜ API-Gateway ì„¤ì •.
- **ìˆ˜í‰ í™•ì¥**: í•„ìš” ì‹œ ì„œë²„ ì¶”ê°€/ì‚­ì œë¡œ ìœ ì € ìˆ˜ìš©ëŸ‰ ì œì–´.
- **ë¦¬ì†ŒìŠ¤ ë¶„ë°°**: ê°™ì€ ì¥ì¹˜ ë‚´ì—ì„œ ë™ì‘ í•˜ë”ë¼ë„ í• ë‹¹í•  ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ ë¶„ë°°.

## ğŸ“ íŒ¨í‚· êµ¬ì¡°

<details>
<summary>ğŸ“¦ íŒ¨í‚·</summary>

### User

- `C_Register : 27`
- `S_Register : 28`
- `C_Login  : 29`
- `S_Login  : 30`
- `C_Logout  : 101`
- `S_Logout  : 102`

### Town

- `C_Enter: 0`
- `S_Enter: 1`
- `S_Spawn: 2`
- `S_Despawn: 3`
- `C_Move: 4`
- `S_Move: 5`
- `C_Animation: 6`
- `S_Animation: 7`
- `C_Chat: 8`
- `S_Chat: 9`
- `S_EnterDungeon: 10`

### Battle

- `C_LeaveDungeon: 11`
- `S_LeaveDungeon: 12`
- `S_UpdatePlayerHp: 13`
- `S_UpdateMonsterHp: 14`
- `S_UpdateNexusHp: 15`
- `S_LevelUp: 16`
- `C_AttackedNexus: 17`
- `S_AttackedNexus: 18`
- `C_HitPlayer : 19`
- `S_HitPlayer : 20`
- `C_HitMonster : 21`
- `S_HitMonster : 22`
- `S_PlayerStatus: 23`
- `S_DeathPlayer: 24`
- `S_RevivePlayer: 25`
- `S_GetExp: 26`
- `S_NexusSpawn: 51`
- `S_PlayerKillCount: 52`
- `S_GameEnd: 53`

### Skills & Items

- `C_UseItem: 31`
- `S_UseItem: 32`
- `C_GetSkill: 33`
- `S_GetSkill: 34`
- `C_ShootProjectile: 35`
- `S_ShootProjectile: 36`
- `C_UseSkill: 37`
- `S_UseSkill: 38`

### Monsters

- `S_MonsterAttack: 39`
- `S_MonsterMove: 40`
- `S_MonsterKill: 41`
- `S_MonsterSpawn: 42`
- `S_MonsterKillCount: 43`

### Party

- `C_Party: 44`
- `S_Party: 45`
- `C_PartyJoin: 46`
- `S_PartyJoin: 47`
- `C_PartyLeave: 48`
- `S_PartyLeave: 49`
- `C_MatchStart: 50`

### Path

- `C_GetNavPath: 99`
- `S_GetNavPath: 100`
- `C_Authorize: 103`
- `S_Authorize: 104`
- `S_GameServerInfo: 253`
- `S_Ping: 254`
- `C_Ping: 255`

</details>

## ğŸ“ë””ë ‰í† ë¦¬ êµ¬ì¡°

<details>
<summary>ğŸ“‚ ë””ë ‰í† ë¦¬ </summary>

#### ğŸ“‚ assets

- `classInfo.json`
- `dungeonInfo.json`
- `equipment.json`
- `item.json`
- `levelperStats.json`
- `monster.json`
- `projectile.json`
- `skill.json`
- `userExp.json`
- `userSpawnTime.json`

#### ğŸ“‚ src

- ğŸ“‚ `classes`
  - ğŸ“‚ `manager`
    - `base.manager.js`
    - `DB.Manager.js`
    - `latency.manager.js`
  - ğŸ“‚ `model`
    - `dungeon.class.js`
    - `monster.class.js`
    - `monsterLogic.class.js`
    - `nexus.class.js`
    - `pathServer.js`
    - `user.class.js`
- ğŸ“‚ `configs`
  - ğŸ“‚ `constants`
    - `constants.js`
    - `env.js`
    - `header.js`
    - `game.js`
    - `packetId.js`
    - `serverUUID.js`
  - `config.js`
- ğŸ“‚ `db`
  - ğŸ“‚ `migrations`
    - `createSchema.js`
  - ğŸ“‚ `model`
    - `boss.db.js`
    - `characters.db.js`
    - `dungeon.db.js`
    - `equipment.db.js`
    - `inventoryitem.db.js`
    - `item.db.js`
    - `monster.db.js`
    - `skill.db.js`
    - `stage.db.js`
    - `user.db.js`
  - ğŸ“‚ `query`
    - `boss.query.js`
    - `characters.query.js`
    - `dungeon.query.js`
    - `equipment.query.js`
    - `inventoryitem.query.js`
    - `item.query.js`
    - `monster.query.js`
    - `skill.query.js`
    - `stage.query.js`
    - `user.query.js`
  - ğŸ“‚ `sql`
    - `0_user_db.sql`
    - `1_item_db.sql`
    - `boss_db.sql`
    - `characters_db.sql`
    - `dungeon_db.sql`
    - `equipment_db.sql`
    - `inventoryItem_db.sql`
    - `monsters_db.sql`
    - `skill_db.sql`
    - `stage_db.sql`
  - `database.js`
- ğŸ“‚ `events`
  - `onClose.js`
  - `onConnection.js`
  - `onData.js`
  - `onEnd.js`
  - `onError.js`
- ğŸ“‚ `handler`
  - ğŸ“‚ `dungeon`
    - `hitMonster.handler.js`
    - `hitPlayer.handler.js`
    - `leaveDungeon.handler.js`
  - ğŸ“‚ `game`
    - `deathPlayer.notification.js`
  - ğŸ“‚ `healthCheck`
    - `pong.handler.js`
  - ğŸ“‚ `item`
    - `useItem.handler.js`
  - ğŸ“‚ `monster`
    - `monsterKill.notification.js`
  - ğŸ“‚ `nexus`
    - `attackedNexus.handler.js`
  - ğŸ“‚ `party`
    - `dungeon.start.handler.js`
    - `party.handler.js`
    - `party.join.handler.js`
    - `party.leave.handler.js`
  - ğŸ“‚ `skill`
    - `getSkill.handler.js`
    - `shootProjectile.handler.js`
    - `useSkill.handler.js`
  - ğŸ“‚ `town`
    - `animation.handler.js`
    - `chat.handler.js`
    - `enter.handler.js`
    - `move.player.handler.js`
  - ğŸ“‚ `user`
    - `login.handler.js`
  - `result.js`
  - `index.js`
- ğŸ“‚ `init`
  - `index.js`
  - `loadProtos.js`
  - `protofiles.js`
- ğŸ“‚ `protobuf`
  - ğŸ“‚ `dungeon`
    - `battle.proto`
    - `monster.proto`
    - `stage.proto`
  - ğŸ“‚ `town`
    - `match.proto`
    - `town.proto`
  - ğŸ“‚ `user`
    - `customMessage.proto`
    - `healthCheck.proto`
    - `item.proto`
    - `login.proto`
    - `skill.proto`
- ğŸ“‚ `sessions`
  - ğŸ“‚ `redis`
    - `helper.js`
    - `redis.account.js`
    - `redis.chat.js`
    - `redis.health.js`
    - `redis.party.js`
    - `redis.server.js`
    - `redis.user.js`
  - `dungeon.session.js`
  - `sessions.js`
  - `town.session.js`
  - `user.session.js`
- ğŸ“‚ `utils`
  - ğŸ“‚ `error`
    - `customError.js`
    - `errorCodes.js`
    - `errorHandler.js`
  - ğŸ“‚ `etc`
    - `despawn.logic.js`
    - `enter.logic.js`
    - `enterTown.js`
  - ğŸ“‚ `joi`
    - `joiUtils.js`
  - ğŸ“‚ `navmesh`
    - `navmesh.js`
  - ğŸ“‚ `notification`
    - `broadcastBySession.js`
    - `createNotification.js`
  - ğŸ“‚ `packet`
    - `createHeader.js`
    - `createResponse.js`
    - `decodePacket.js`
  - ğŸ“‚ `redis`
    - `redisManager.js`
  - ğŸ“‚ `socket`
    - `messageQueue.js`
  - `dateFormatter.js`
  - `generateNexusId.js`
  - `logger.js`
  - `makeUUID.js`
  - `transfromCase.js`
- `server.js`

---

</details>

## ğŸ‘©â€ğŸ’» íŒ€ì›

| ì´ë¦„   | ë¸”ë¡œê·¸                                                       | GitHub                                             |
| ------ | ------------------------------------------------------------ | -------------------------------------------------- |
| ì •ë™í˜„ | [803571 Blog](https://blog.naver.com/803571)                 | [803571](https://github.com/803571)                |
| ì‹ ì„±ì•ˆ | [holy-s Blog](https://holy-s.tistory.com/)                   | [HolySSA](https://github.com/HolySSA)              |
| ë³€ìš°ì˜ | [abcd9986 Blog](https://velog.io/@abcd9986/posts)            | [interneton](https://github.com/interneton)        |
| ì •ì¤€ì—½ | [wnsduq8737 Blog](https://velog.io/@wnsduq8737/posts)        | [JungJaeU](https://github.com/JungJaeU)            |
| ì†¡ì¸ìš° | [songinwoo Blog](https://velog.io/@songinwoo/posts)          | [INU-coder](https://github.com/INU-coder)          |
| ì´ì •ìˆ˜ | [artbiit Blog](https://velog.io/@artbiit/series)             | [artbiit](https://github.com/artbiit)              |
| ë°•ìš©í˜„ | [dydgustmdfl1231 Blog](https://dydgustmdfl1231.tistory.com/) | [YongHyeon1231](https://github.com/YongHyeon1231/) |
